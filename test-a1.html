<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//ES">
<html lang="es-CL">
<head>
  <meta name="google-adsense-account" content="ca-pub-2672277404608005">
  <meta charset="utf-8">
  <title>Examen Municipal Licencia Clase A1 | Practica Tu Prueba</title>

  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <link href="img/favicon.ico" rel="icon">
  <!-- Fuentes de Google -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Barlow:wght@600;700&family=Ubuntu:wght@400;500&display=swap" rel="stylesheet">
  <!-- Iconos y Bibliotecas CSS -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">
  <link href="lib/animate/animate.min.css" rel="stylesheet">
  <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
  <link href="lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css" rel="stylesheet" />
  <!-- Hoja de estilo Bootstrap personalizada -->
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <!-- Hoja de estilo personalizada -->
  <link href="css/style.css" rel="stylesheet">
  <!--jQuery-->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <style>
    body {
      background-color: #F2F2F2;
      font-family: 'Barlow', sans-serif;
      color: #ffffff;
      text-align: center;
    }
    .container {
      margin-top: 20px;
    }
    .question-box {
      background-color: #ffffff;
      color: #000000;
      padding: 20px;
      margin-bottom: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    .question-box h5 {
      margin-bottom: 15px;
    }
    .question-box label {
      display: block;
      margin-bottom: 10px;
      cursor: pointer;
    }
    button {
      background-color: #ffffff;
      color: #000000;
      border: none;
      padding: 10px 20px;
      margin: 10px;
      font-size: 16px;
      cursor: pointer;
      border-radius: 5px;
    }
    button:hover {
      background-color: #dddddd;
    }
    #temporizador {
      background-color: #F2F2F2; 
      color: #000000; 
      font-size: 20px; 
      padding: 10px; 
      border-radius: 5px; 
      font-family: 'Barlow', sans-serif;
      margin-top: 20px; 
      text-align: center; 
    }
    table {
      width: 100%;
      border-collapse: collapse;
    }
    th, td {
      padding: 10px;
      border: 1px solid #ffffff;
    }
    th {
      background-color: #D81324;
      color: #ffffff;
    }
    .incorrecto {
      background-color: #D81324;
    }
    .correcto {
      background-color: #5ce75c;
    }
    .reprobado {
      background-color: #D81324;
      color: #ffffff;
      padding: 10px;
      border-radius: 5px;
      margin: 10px 0;
    }
    .aprobado {
      background-color: #66ff66;
      color: #F2F2F2;
      padding: 10px;
      border-radius: 5px;
      margin: 10px 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Examen Municipal Licencia Clase A1 - 2024</h1>
    <div id="temporizador">Tiempo restante: 20:00</div>
    <form id="examen-form">
      <!-- Preguntas obligatorias con alternativas correctas marcadas -->
      <div class="question-box pregunta" data-correcta="d">
        <img src="img/quest1-a1.jpg" alt="Velocidad" style="width:360px;height:auto;margin-bottom:10px;">
        <h5>1. ¿Cuál es la velocidad máxima permitida en zonas urbanas para vehículos de transporte público?</h5>
        <label><input type="radio" name="pregunta1" value="a" required> a) 50 km/h</label>
        <label><input type="radio" name="pregunta1" value="b" required> b) 60 km/h</label>
        <label><input type="radio" name="pregunta1" value="c" required> c) 40 km/h</label>
        <label><input type="radio" name="pregunta1" value="d" required> d) 45 km/h</label>
      </div>
      <div class="question-box pregunta" data-correcta="b">
        <h5>2. ¿Qué indica una luz roja intermitente en un semáforo?</h5>
        <img src="img/quest2-a1.jpg" alt="Intermitente" style="width:360px;height:auto;margin-bottom:10px;">
        <label><input type="radio" name="pregunta2" value="a" required> a) Detenerse completamente y no avanzar.</label>
        <label><input type="radio" name="pregunta2" value="b" required> b) Detenerse y avanzar con precaución.</label>
        <label><input type="radio" name="pregunta2" value="c" required> c) Ceder el paso a peatones.</label>
        <label><input type="radio" name="pregunta2" value="d" required> d) Prepararse para detenerse.</label>
      </div>
      <!-- Agrega 18 preguntas más obligatorias con alternativas correctas marcadas -->
      <div class="question-box pregunta" data-correcta="b">
        <h5>3. En una intersección sin señalización, ¿quién tiene el derecho de paso?</h5>
        <img src="img/quest3-a1.jpg" alt="Intersección" style="width:360px;height:auto;margin-bottom:10px;">
        <label><input type="radio" name="pregunta3" value="a"> A) El vehículo que se aproxima por la derecha.</label>
        <label><input type="radio" name="pregunta3" value="b"> B) El vehículo que se aproxima por la izquierda.</label>
        <label><input type="radio" name="pregunta3" value="c"> C) El vehículo más grande.</label>
        <label><input type="radio" name="pregunta3" value="d"> D) El vehículo que llega primero.</label>
      </div>
      
      <!-- Agrega las 17 preguntas restantes aquí --> 
      <div class="question-box pregunta" data-correcta="a">
        <h5>4. ¿Qué indica una señal de tránsito con fondo amarillo y símbolo de precaución?</h5>
        <img src="img/quest4-a1.jpg" alt="Señal" style="width:360px;height:auto;margin-bottom:10px;">
        <label><input type="radio" name="pregunta4" value="a"> A) Peligro o advertencia</label>
        <label><input type="radio" name="pregunta4" value="b"> B) Obligación de detenerse</label>
        <label><input type="radio" name="pregunta4" value="c"> C) Zona de estacionamiento</label>
      </div>
      
      <div class="question-box pregunta" data-correcta="c">
        <h5>5. ¿Cuál es la distancia mínima para estacionar frente a una salida de emergencia?</h5>
        <label><input type="radio" name="pregunta5" value="a"> A) 5 metros</label>
        <label><input type="radio" name="pregunta5" value="b"> B) 10 metros</label>
        <label><input type="radio" name="pregunta5" value="c"> C) 15 metros</label>
      </div>
      
      <!-- Agrega las 15 preguntas restantes aquí -->
      
      <div class="question-box pregunta" data-correcta="b">
        <h5>6. ¿Qué indica una señal de tránsito con fondo blanco y una X roja?</h5>
        <img src="img/quest6-a1.jpg" alt="Fondo blanco X roja" style="width:360px;height:auto;margin-bottom:10px;">
        <label><input type="radio" name="pregunta6" value="a"> A) Prohibición de adelantar</label>
        <label><input type="radio" name="pregunta6" value="b"> B) Prohibición de paso</label>
        <label><input type="radio" name="pregunta6" value="c"> C) Zona de estacionamiento</label>
      </div>
      
      <div class="question-box pregunta" data-correcta="a">
        <h5>7. ¿Cuál es la velocidad máxima permitida en autopistas en Chile?</h5>
        <img src="img/quest7-a1.jpg" alt="Velocimetro" style="width:360px;height:auto;margin-bottom:10px;">
        <label><input type="radio" name="pregunta7" value="a"> A) 120 km/h</label>
        <label><input type="radio" name="pregunta7" value="b"> B) 100 km/h</label>
        <label><input type="radio" name="pregunta7" value="c"> C) 80 km/h</label>
      </div>
      
      <!-- Agrega las 13 preguntas restantes aquí -->
      
      <div class="question-box pregunta" data-correcta="c">
        <h5>8. ¿Cuál es el propósito principal de los espejos retrovisores en un vehículo?</h5>
        <img src="img/quest8-a1.jpg" alt="Retrovisores" style="width:360px;height:auto;margin-bottom:10px;">
        <label><input type="radio" name="pregunta8" value="a"> a) Decorar el vehículo</label>
        <label><input type="radio" name="pregunta8" value="b"> b) Vigilar a los pasajeros</label>
        <label><input type="radio" name="pregunta8" value="c"> c) Controlar los puntos ciegos y el tráfico detrás del vehículo</label>
        <label><input type="radio" name="pregunta8" value="d"> d) Mejorar la aerodinámica del vehículo</label>
      </div>
      
      <div class="question-box pregunta" data-correcta="d">
        <h5>9. ¿Qué indica esta señal de tránsito con fondo azul y figura blanca?</h5>
        <img src="img/quest9-a1.jpg" alt="Señal" style="width:360px;height:auto;margin-bottom:10px;">
        <label><input type="radio" name="pregunta9" value="a"> a) Inicio de autopista</label>
        <label><input type="radio" name="pregunta9" value="b"> b) Fin de autopista</label>
        <label><input type="radio" name="pregunta9" value="c"> c) Desvío obligatorio a la derecha</label>
        <label><input type="radio" name="pregunta9" value="d"> d) Retorno de autopista</label>
      </div>
      
      <!-- Agrega las 11 preguntas restantes aquí -->
      <div class="question-box pregunta" data-correcta="b">
        <h5>10. ¿Qué debe hacer si un peatón comienza a cruzar imprudentemente?</h5>
        <img src="img/quest10-a1.jpg" alt="Peatón Imprudente" style="width:360px;height:auto;margin-bottom:10px";>
        <label><input type="radio" name="pregunta10" value="a"> a) Tocar la bocina para advertirle.</label>
        <label><input type="radio" name="pregunta10" value="b"> b) Reducir la velocidad y permitirle el paso.</label>
        <label><input type="radio" name="pregunta10" value="c"> c) Continuar la marcha.</label>
        <label><input type="radio" name="pregunta10" value="d"> d) Señalizar y adelantar.</label>
      </div>
      
      <div class="question-box pregunta" data-correcta="b">
        <h5>11. ¿Qué luces debe utilizar un vehículo al circular de noche en una zona urbana bien iluminada?</h5>
        <label><input type="radio" name="pregunta11" value="a"> a) Luces altas.</label>
        <label><input type="radio" name="pregunta11" value="b"> b) Luces bajas.</label>
        <label><input type="radio" name="pregunta11" value="c"> c) Luces de posición.</label>
        <label><input type="radio" name="pregunta11" value="d"> d) Ninguna luz.</label>
      </div>
      
      <!-- Agrega las 9 preguntas restantes aquí -->
      
      <div class="question-box pregunta" data-correcta="c">
        <h5>12. ¿Qué significa una señal triangular con borde rojo?</h5>
        <label><input type="radio" name="pregunta12" value="a"> a) Obligación de paso</label>
        <label><input type="radio" name="pregunta12" value="b"> b) Información al paso </label>
        <label><input type="radio" name="pregunta12" value="c"> c) Ceder el paso</label>
        <label><input type="radio" name="pregunta12" value="d"> d) Prohibición de paso</label>
      </div>
      
      <div class="question-box pregunta" data-correcta="b">
        <h5>13. ¿Qué debe hacer al acercarse a un cruce de ferrocarril sin barreras?</h5>
        <label><input type="radio" name="pregunta13" value="a"> a) Acelerar para cruzar rápidamente</label>
        <label><input type="radio" name="pregunta13" value="b"> b) Reducir la velocidad y asegurarse de que no se aproxime un tren</label>
        <label><input type="radio" name="pregunta13" value="c"> c) Continuar a la misma velocidad</label>
        <label><input type="radio" name="pregunta13" value="d"> d) Detenerse completamente</label>
      </div>
      
      <div class="question-box pregunta" data-correcta="c">
        <h5>14. ¿Cuál es la distancia mínima de seguridad al seguir a otro vehículo?</h5>
        <label><input type="radio" name="pregunta14" value="a"> a) 1 metro</label>
        <label><input type="radio" name="pregunta14" value="b"> b) 5 metros</label>
        <label><input type="radio" name="pregunta14" value="c"> c) 2 segundos</label>
        <label><input type="radio" name="pregunta14" value="d"> d) 10 metros</label>
      </div>
      
      <div class="question-box pregunta" data-correcta="b">
        <h5>15. ¿Qué debe hacer si su vehículo se avería en la autopista?</h5>
        <label><input type="radio" name="pregunta15" value="a"> a) Continuar hasta la próxima salida</label>
        <label><input type="radio" name="pregunta15" value="b"> b) Señalizar, detenerse en un lugar seguro y colocar el triángulo de emergencia</label>
        <label><input type="radio" name="pregunta15" value="c"> c) Detenerse en el carril más rápido</label>
        <label><input type="radio" name="pregunta15" value="d"> d) Esperar ayuda en el interior del vehículo</label>
      </div>
      
      <div class="question-box pregunta" data-correcta="b">
        <h5>16. ¿Qué indica una señal con un número y una letra 'R' debajo?</h5>
        <label><input type="radio" name="pregunta16" value="a"> a) Restricción de altura</label>
        <label><input type="radio" name="pregunta16" value="b"> b) Restricción de tonelaje</label>
        <label><input type="radio" name="pregunta16" value="c"> c) Ruta recomendada</label>
        <label><input type="radio" name="pregunta16" value="d"> d) Reserva natural</label>
      </div>
      
      <div class="question-box pregunta" data-correcta="c">
        <h5>17. ¿Qué acción es obligatoria al encontrarse con una señal de "Ceda el Paso"?</h5>
        <label><input type="radio" name="pregunta17" value="a"> a) Acelerar para evitar detenerse</label>
        <label><input type="radio" name="pregunta17" value="b"> b) Continuar sin disminuir la velocidad</label>
        <label><input type="radio" name="pregunta17" value="c"> c) Disminuir la velocidad y ceder el paso a los vehículos en la vía preferente</label>
        <label><input type="radio" name="pregunta17" value="d"> d) Detenerse completamente siempre, incluso sin tráfico</label>
      </div>
      
      <div class="question-box pregunta" data-correcta="b">
        <h5>18. ¿Cuál es el procedimiento correcto al salir de una autopista?</h5>
        <label><input type="radio" name="pregunta18" value="a"> a) Aumentar la velocidad antes de tomar la salida</label>
        <label><input type="radio" name="pregunta18" value="b"> b) Señalizar con anticipación, disminuir la velocidad y tomar la salida de manera segura</label>
        <label><input type="radio" name="pregunta18" value="c"> c) Mantener la velocidad y señalizar solo al tomar la salida</label>
        <label><input type="radio" name="pregunta18" value="d"> d) Detenerse en el carril de aceleración antes de salir</label>
      </div>
      
      <div class="question-box pregunta" data-correcta="c">
        <h5>19. ¿Qué indica una señal vertical rectangular de fondo blanco con borde negro?</h5>
        <label><input type="radio" name="pregunta19" value="a"> a) Advertencia de peligros en la vía</label>
        <label><input type="radio" name="pregunta19" value="b"> b) Obligación de detenerse más adelante</label>
        <label><input type="radio" name="pregunta19" value="c"> c) Información útil para el conductor, como direcciones o distancias</label>
        <label><input type="radio" name="pregunta19" value="d"> d) Prohibición de continuar en línea recta</label>
      </div>
      
      <div class="question-box pregunta" data-correcta="b">
        <h5>20. Para la obtención de la licencia profesional, ¿cuál es la edad mínima que deberá tener el conductor?</h5>
        <label><input type="radio" name="pregunta20" value="a"> a) 20 años</label>
        <label><input type="radio" name="pregunta20" value="b"> b) 18 años</label>
        <label><input type="radio" name="pregunta20" value="c"> c) 19 años</label>
        <label><input type="radio" name="pregunta20" value="d"> d) 21 años</label>
      </div>
      <!-- Botones para Reiniciar y Ver Resultados -->
      <button type="button" onclick="location.reload()">Reiniciar</button>
      <button type="button" onclick="verResultados()">Ver resultados</button>
    </form>
    <div id="resultados"></div>
  </div>
  <script>
    // Función para iniciar el temporizador
    function iniciarTemporizador(duracion, display) {
      let timer = duracion, minutes, seconds;
      setInterval(function () {
        minutes = parseInt(timer / 60, 10);
        seconds = parseInt(timer % 60, 10);

        minutes = minutes < 10 ? "0" + minutes : minutes;
        seconds = seconds < 10 ? "0" + seconds : seconds;

        display.textContent = "Tiempo restante: " + minutes + ":" + seconds;

        if (--timer < 0) {
          timer = 0;
          verResultados();
        }
      }, 1000);
    }

    window.onload = function () {
      let tiempoExamen = 60 * 20, // 20 minutos en segundos
        display = document.querySelector('#temporizador');
      iniciarTemporizador(tiempoExamen, display);
    };

    // Función para reiniciar el formulario
    function reiniciarFormulario() {
      document.getElementById("examen-form").reset();
      document.getElementById("resultados").innerHTML = "";
    }

    // Función para ver resultados
    function verResultados() {
      const preguntas = document.querySelectorAll(".pregunta");
      let respuestasCorrectas = 0;
      let totalPreguntas = preguntas.length;
      preguntas.forEach((pregunta, index) => {
        const correcta = pregunta.getAttribute("data-correcta");
        const respuestaSeleccionada = document.querySelector(`input[name="pregunta${index + 1}"]:checked`);
        if (respuestaSeleccionada && respuestaSeleccionada.value === correcta) {
          respuestasCorrectas++;
          respuestaSeleccionada.parentElement.classList.add("correcto");
        } else {
          if (respuestaSeleccionada) {
            respuestaSeleccionada.parentElement.classList.add("incorrecto");
          }
          pregunta.querySelector(`input[value="${correcta}"]`).parentElement.classList.add("correcto");
        }
      });
      const resultadoDiv = document.getElementById("resultados");
      resultadoDiv.innerHTML = `<h2>Resultado: ${respuestasCorrectas} / ${totalPreguntas}</h2>`;
      const porcentaje = (respuestasCorrectas / totalPreguntas) * 100;
      if (porcentaje >= 80) {
        resultadoDiv.innerHTML += '<div class="aprobado">¡Aprobado!</div>';
      } else {
        resultadoDiv.innerHTML += '<div class="reprobado">Reprobado. Necesitas al menos un 80% para aprobar.</div>';
      }
    }

    
    </script>
    <script>
      $(document).ready(function() {
        // Obtener preguntas desde el backend (Flask API)
        $.ajax({
          url: '/api/get-questions',
          type: 'GET',
          success: function(data) {
            if (data && data.questions) {
              data.questions.forEach(function(question, index) {
                const questionBox = `
                  <div class="question-box pregunta" data-correcta="${question.correct_option}">
                    <h5>${index + 1}. ${question.question_text}</h5>
                    ${generateOptions(question.options, index)}
                  </div>
                `;
                $('#examen-form').append(questionBox);
              });
            }
          },
          error: function(error) {
            alert('Error al obtener las preguntas');
          }
        });
      });
  
      function generateOptions(options, index) {
        return options.map((option, i) => {
          return `
            <label>
              <input type="radio" name="pregunta${index + 1}" value="${String.fromCharCode(97 + i)}" required>
              ${String.fromCharCode(97 + i)}) ${option}
            </label>
          `;
        }).join('');
      }
    </script>
  </body>
</html>
